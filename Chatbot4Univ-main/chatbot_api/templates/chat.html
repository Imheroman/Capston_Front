<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- <link rel="stylesheet" href="css/styles.css" /> -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat w/ Ryan - Kokoa Clone</title>
    <script
      src="https://kit.fontawesome.com/06fe2b83de.js"
      crossorigin="anonymous"
    ></script>
  </head>



  <body id="chat-screen">
    <div class="status-bar"> 
      <div class="status-bar__column">
        <span>No Service</span>
        <i class="fas fa-wifi"></i>
      </div>
      <div class="status-bar__column">
        <span>18:43</span>
      </div>
      <div class="status-bar__column">
        <span>110%</span>
        <i class="fas fa-battery-full fa-2x"></i>
        <i class="fas fa-bolt"></i>
      </div>
    </div>

    <header class="alt-header">
      <div class="alt-header__column">
        <a href="chats.html">
          <i class="fas fa-angle-left fa-3x"></i>
        </a>
      </div>
      <div class="alt-header__column">
        <h1 class="alt-header__title">Ryan</h1>
      </div>
      <div class="alt-header__column">
        <span><i class="fas fa-search fa-lg"></i></span>
        <span><i class="fas fa-bars fa-lg"></i></span>
      </div>
    </header>

      <!-- <div class="message-row">
        <img
          src="https://monthly.chosun.com/up_fd/Mdaily/2017-09/bimg_thumb/2017042000056_0.jpg"
        />
        <div class="message-row__content">
          <span class="message__author">Ryan</span>
          <div class="message__info">
            <span class="message__bubble"
              >Hi, I'm Ryan</span>
            <span class="message__time">21:22</span>
          </div>
        </div>
      </div> -->
    <main class="main-screen main-chat">
      <div class="chat__timestamp">Tuesday, June 30, 2020</div>
      {% if messages %}
        <div class="message-row">
          <img src="https://monthly.chosun.com/up_fd/Mdaily/2017-09/bimg_thumb/2017042000056_0.jpg" />
          <div class="message-row__content">
            <span class="message__author">Bot</span>
              <div class="message__info">
              {% for message in messages %}
                <span class="message__bubble">{{ message }}</span>
              {% endfor %}
              <span class="message__time">{{ current_time }}</span>
              </div>
          </div>
       </div>
      {% endif %}

      <div class="message-row message-row--own">
        <div class="message-row__content">
          <div class="message__info">
            <span class="message__bubble"
              >This is my chat. Lyan</span>
            <span class="message__time">21:22</span>
          </div>
        </div>
      </div>
    </main>










    <form class="reply" action = "/query" method = "post">
      <div class="reply__column">
        <i class="far fa-plus-square fa-lg"></i>
      </div>

      <div class="reply__column">
        <input type="text" name = "client_chat" placeholder="Write a message..." />
        <i class="far fa-smile-wink fa-lg"></i>
        <button id = "send-message-btn">
          <i class="fas fa-arrow-up"></i>
        </button>
      </div>
    </form>
  








    <!-- <script>  내가 보낸 메세지들을 연속으로 사용할 수 있게 만드는 부분
      const sendMessageBtn = document.getElementById('send-message-btn');
      const messageInput = document.querySelector('.reply__column input');
      const chatScreen = document.querySelector('.main-chat');

      sendMessageBtn.addEventListener('click', function(e) {
        e.preventDefault();
        const message = messageInput.value.trim();
        if (message !== '') {
          const messageRow = document.createElement('div');
          messageRow.classList.add('message-row', 'message-row--own');
          const messageContent = document.createElement("div");
          messageContent.classList.add("message-row__content");
          const messageInfo = document.createElement("div");
          messageInfo.classList.add("message__info");
          const messageBubble = document.createElement("span");
          messageBubble.classList.add("message__bubble");
          messageBubble.innerText = message;
          const messageTime = document.createElement("span");
          messageTime.classList.add("message__time");
          messageTime.innerText = getTime();
          messageInfo.appendChild(messageBubble);
          messageInfo.appendChild(messageTime);
          messageContent.appendChild(messageInfo);
          messageRow.appendChild(messageContent);
          chatScreen.appendChild(messageRow);
          messageInput.value = '';
        }
      });

      function getTime() {
        const date = new Date();
        const hour = date.getHours();
        const minute = date.getMinutes();
        return `${hour}:${minute}`;
      }

    </script> -->
    
  </body>
</html>